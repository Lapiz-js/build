(function ValidatorModule(a){a.Validator=function(c,e,f){var d=function(h,i){i=i||a.Validator.format.array;var g={};var j=false;Lapiz.each(c,function(m,l){l=l.split("|");var n=h[m];var k=l.shift();g[m]=[];Lapiz.each(l,function(r,q){args=q.split(":");var p=args.shift();q=a.Validator[p];if(!q){new Error(p+" is not a validator")}var o=q(k,n,args,h);j=j||!!o;if(o){g[m].push(o)}})});return i(g,j)};if(e!==undefined){return d(e,f)}return d};a.Validator.required=function(c,d){if(d===""||d===undefined){return c+" is required"}return false};a.Validator.min=function(f,g,e){var d=Lapiz.parse["int"](e[0]);var c=g.length;if(c<d&&c>0){return f+" must be at least "+d+" characters long"}return false};a.Validator.max=function(f,g,e){var d=Lapiz.parse["int"](e[0]);var c=g.length;if(c>d){return f+" cannot be longer than "+d+" characters"}return false};a.Validator.numberMin=function(d,f,c){var e=Lapiz.parse.number(c[0]);f=Lapiz.parse.number(f);if(isNaN(f)){return false}if(f<e){return d+" must be at least "+e}return false};a.Validator.numberMax=function(e,f,d){var c=Lapiz.parse.number(d[0]);f=Lapiz.parse.number(f);if(isNaN(f)){return false}if(f>c){return e+" must be less than"+c}return false};a.Validator.number=function(c,d){if(d===""||d===undefined){return false}d=Lapiz.parse.number(d);if(isNaN(d)){return c+" must be a number"}return false};a.Validator.match=function(d,f,c,e){if(f!==e[c[0]]){return c[1]||"Passwords do not match"}return false};var b=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;a.Validator.email=function(c,d){if(d===""||d===undefined){return false}d=Lapiz.parse.string(d);if(!b.test(d)){return c+" must be a valid email"}return false};a.Validator.format={};a.Validator.format.array=function(c,d){if(!d){return d}return c};a.Validator.format.divs=function(d){var c=[];a.each(d,function(f,e){c.push("<div for='"+f+"'>"+e+"</div>")});return c.join("")};a.Validator.format.li=function(c){return"<li>"+c.join("</li><li>")+"</li>"};a.Validator.format.ul=function(c){return"<ul>"+Validator.li(c)+"</ul>"}})(Lapiz);
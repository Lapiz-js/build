Lapiz.Module("Template",["Collections"],function(g){var c=g.Namespace();g.set("Template",c.namespace);var b=g.Namespace();c.set("Std",b.namespace);var a=/\$(\w+(?:\.\w+)*|\$)/;var f=/^\$(\w+(?:\.\w+)*|\$)$/;b.method(function e(s,t,k){var m,j,n,q,o;var r=f.exec(s);var p=s;if(r){return k(r[1],t)}while(!!(m=a.exec(s))){j=k(m[1],t);if(j===undefined){j=""}p=p.replace(m[0],j);s=s.replace(m[0],"")}return p});b.method(function h(n,k){if(n==="$"){return k}var o,j,m;n=n.split(".");o=k[n[0]];j=n.length;for(m=1;m<j;m+=1){if(o===undefined){return o}o=o[n[m]]}return o});c.method(function d(i,j){return function(l,k){return i(l,k,j)}});b.set("templator",g.Template.Templator(g.Template.Std.tokenizer,g.Template.Std.resolver));Object.freeze(c.Std);Object.freeze(c)});